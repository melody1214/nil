syntax = "proto3";

package github.com.chanyoung.nil.pkg.swimpb;
option go_package = "swimpb";

enum Status {
    ALIVE = 0;
    SUSPECT = 1;
    FAULTY = 2;
}

enum Type {
    PING = 0;
    PINGREQUEST = 1;
    BROADCAST = 2;
}

message Member {
    string uuid = 1;
    string addr = 2;
    string port = 3;
    Status status = 4;
    uint32 incarnation = 5;
}

message PingMessage {
    Type type = 1;
    repeated Member memlist = 2;
}

message Ack {
    
}

service Swim {
    rpc Ping (PingMessage) returns (Ack) {}
}